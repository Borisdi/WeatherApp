@model WeatherApiClass.ResponseWeather;
<table>
    <tr>
        <th>Current Weather Conditions
        </th>
    </tr>
    <tr>
        <td>Sofia:</td>
    <tr>
    <tr>
        <td>
            @Model.weather[0].description
            @{  String image = null;
                if (Model.weather[0].description == "clear sky")
                {
                    image = "~/images/Symbols/01d.png";
                }

                if (Model.weather[0].description == "few clouds")
                {
                    image = "~/images/Symbols/02d.png";
                }

                if (Model.weather[0].description == "scattered clouds")
                {
                    image = "~/images/Symbols/03d.png";
                }

                if (Model.weather[0].description == "broken clouds" || Model.weather[0].description == "overcast clouds")
                {
                    image = "~/images/Symbols/04d.png";
                }

                // Всички събития от група 3xx - ръмеж и дъжд
                if (Model.weather[0].description == "shower rain" || Model.weather[0].description == "light intensity drizzle" || Model.weather[0].description == "drizzle" || Model.weather[0].description == "heavvy intensity drizzle" || Model.weather[0].description == "shower rain" || Model.weather[0].description == "light intensity drizzle rain" || Model.weather[0].description == "drizzle rain" || Model.weather[0].description == "heavy intensity drizzle rain" || Model.weather[0].description == "shower rain and drizzle" || Model.weather[0].description == "heavy shower rain and drizzle" || Model.weather[0].description == "shower drizzle")
                {
                    image = "~/images/Symbols/09d.png";
                }
                // Всички събития от група 5xx - дъждове с различна интензивност
                if (Model.weather[0].description == "rain" || Model.weather[0].description == "light rain" || Model.weather[0].description == "moderate rain" || Model.weather[0].description == "heavy intensity rain" || Model.weather[0].description == "very heavy rain" || Model.weather[0].description == "extreme rain" || Model.weather[0].description == "light shower rain" || Model.weather[0].description == "shower rain" || Model.weather[0].description == "heavy intensity shower rain" || Model.weather[0].description == "ragged shower rain")
                {
                    image = "~/images/Symbols/10d.png";
                }
                // Всички събития от група 2xx - гръмотевична буря
                if (Model.weather[0].description == "thunderstorm" || Model.weather[0].description == "thunderstorm with light rain" || Model.weather[0].description == "thunderstorm with heavy rain" || Model.weather[0].description == "light thunderstorm" || Model.weather[0].description == "thunderstorm" || Model.weather[0].description == "heavy thunderstorm" || Model.weather[0].description == "ragged thunderstorm" || Model.weather[0].description == "thunderstorm with light drizzle" || Model.weather[0].description == "thunderstorm with drizzle" || Model.weather[0].description == "thunderstorm with heavy drizzle")
                {
                    image = "~/images/Symbols/11d.png";
                }
                // Всички събития от група 6xx - снеговалеж с различна интензивност
                if (Model.weather[0].description == "snow" || Model.weather[0].description == "freezing rain" || Model.weather[0].description == "light snow" || Model.weather[0].description == "heavy snow" || Model.weather[0].description == "sleet" || Model.weather[0].description == "shower sleet" || Model.weather[0].description == "light rain and snow" || Model.weather[0].description == "rain and snow" || Model.weather[0].description == "light shower snow" || Model.weather[0].description == "shower snow" || Model.weather[0].description == "heavy shower snow")
                {
                    image = "~/images/Symbols/13d.png";
                }
                // Всички събития от група 7xx - атмосферни явления
                if (Model.weather[0].description == "mist" || Model.weather[0].description == "smoke" || Model.weather[0].description == "haze" || Model.weather[0].description == "sand, dust whirls" || Model.weather[0].description == "fog" || Model.weather[0].description == "sand" || Model.weather[0].description == "dust" || Model.weather[0].description == "volcanic ash" || Model.weather[0].description == "squalls" || Model.weather[0].description == "tornado")
                {
                    image = "~/images/Symbols/50d.png";
                }
             }
            <img src=@Url.Content(image) />
        </td>
    </tr>
    <tr>
        <td>
            Temperature: @Model.main.temp  °C
        </td>
    </tr>
    <tr>
        <td>
            Wind: @Model.wind.speed m/s
            @{
                String directiondescription = null;
                if (Model.wind.deg >= 0 && Model.wind.deg < 11 || Model.wind.deg <= 0 && Model.wind.deg > 349)
                {
                    directiondescription = "N";
                }
                if (Model.wind.deg >= 11 && Model.wind.deg < 34)
                {
                    directiondescription = "NNE";
                }
                if (Model.wind.deg >= 34 && Model.wind.deg < 56)
                {
                    directiondescription = "NE";
                }
                if (Model.wind.deg >= 56 && Model.wind.deg < 79)
                {
                    directiondescription = "ENE";
                }
                if (Model.wind.deg >= 79 && Model.wind.deg < 101)
                {
                    directiondescription = "E";
                }
                if (Model.wind.deg >= 101 && Model.wind.deg < 124)
                {
                    directiondescription = "ESE";
                }
                if (Model.wind.deg >= 124 && Model.wind.deg < 146)
                {
                    directiondescription = "SE";
                }
                if (Model.wind.deg >= 146 && Model.wind.deg < 169)
                {
                    directiondescription = "SSE";
                }
                if (Model.wind.deg >= 169 && Model.wind.deg < 191)
                {
                    directiondescription = "S";
                }
                if (Model.wind.deg >= 191 && Model.wind.deg < 214)
                {
                    directiondescription = "SSW";
                }
                if (Model.wind.deg >= 214 && Model.wind.deg < 236)
                {
                    directiondescription = "SW";
                }
                if (Model.wind.deg >= 236 && Model.wind.deg < 259)
                {
                    directiondescription = "WSW";
                }
                if (Model.wind.deg >= 259 && Model.wind.deg < 281)
                {
                    directiondescription = "W";
                }
                if (Model.wind.deg >= 281 && Model.wind.deg < 304)
                {
                    directiondescription = "WNW";
                }
                if (Model.wind.deg >= 304 && Model.wind.deg < 326)
                {
                    directiondescription = "NW";
                }
                if (Model.wind.deg >= 326 && Model.wind.deg < 349)
                {
                    directiondescription = "NNW";
                }
            }
            Direction: @directiondescription
        </td>
    </tr>
    <tr>
        <td>
            Humidity: @Model.main.humidity %
        </td>
    </tr>
    <tr>
        <td>
            Pressure: @Model.main.pressure hPa
        </td>
    </tr>
</table>
